                        ; --------------------------------------
                        ; zasm: assemble "sample6_2_1_DAK1.asm"
                        ; date: 2023-05-17 04:04:01
                        ; --------------------------------------


                        ;***********************************************************
                        ;SAMPLE 6_2_1_DAK1
                        ;***********************************************************
                        ;例1：「HELPUS」を表示する
                        ;サブルーチンDAR:1 1st を使って、キー「+」が押されていない間、テキスト「HELPUS」を表示します。
                        ;この場合、コンピュータはHALT状態に移行することになる。
                        ;
                        ;サブプログラムDAK1は、IXレジスタによってアドレス指定されたテキストを表示します。
                        ;このサブプログラムは、キー（RESまたはNMIを除く）が押されるとすぐに終了する。
                        ;上記のプログラムでは、"+"キーが押されたかどうかをテストしています。
                        ;もしそうであれば、CPUはHALT状態に入り、そうでなければ、サブプログラムが再び呼び出される。
                        ;7セグメントディスプレイのコーディングは、3.6.の図または付録の表から;得られます。
                        ;***********************************************************
                        ;
045A:                   DAK1	EQU	045AH
                        ;
2000:                   	ORG	2000H
2000:                   EX1:
2000: DD212020 [14]     	LD	IX,HELP		; アドレス、テキスト
2004:                   DISP:
2004: CD5A04   [17]     	CALL	DAK1		; 表示
2007: FE10     [24]     	CP	10H		; ボタン "+"
2009: 20F9     [31|36]  	JR	NZ,DISP		; 間違ったキー
200B: 76       [35]     	HALT
                        ;
200C: FFFFFFFF          	ORG	2020H
2010: FF...             
2020:                   HELP:
2020: AE                	DEFB	0AEH		;"S"
2021: E3                	DEFB	0E3H		;"U"
2022: 4F                	DEFB	4FH		;"P"
2023: C2                	DEFB	0C2H		;"L"
2024: CE                	DEFB	0CEH		;"E"
2025: 6B                	DEFB	6BH		;"H"
                        	END


; +++ segments +++

#CODE          = $2000 =  8192,  size = $0026 =    38

; +++ global symbols +++

DAK1    = $045A =  1114          sample6_2_1_DAK1.asm:15
DISP    = $2004 =  8196          sample6_2_1_DAK1.asm:20
EX1     = $2000 =  8192          sample6_2_1_DAK1.asm:18 (unused)
HELP    = $2020 =  8224          sample6_2_1_DAK1.asm:27
_end    = $2026 =  8230          sample6_2_1_DAK1.asm:17 (unused)
_size   = $0026 =    38          sample6_2_1_DAK1.asm:17 (unused)


total time: 0.0041 sec.
no errors
