                        ; --------------------------------------
                        ; zasm: assemble "sample6_2_9_devide.asm"
                        ; date: 2023-05-20 17:06:31
                        ; --------------------------------------


                        ;***********************************************************
                        ;SAMPLE 6_2_9_devide
                        ;***********************************************************
                        ;例8：除算
                        ;2つのBビット16進数の除算
                        ;除数はメモリロケーション2100Hに、被除数はメモリロケーション2101Hに配置されている。
                        ;除算後、結果(X,Y)はメモリロケーション2102H(Y)と2103(X)に格納されます。
                        ;***********************************************************
                        ;
2000:                   	ORG	2000H
2000:                   EX09:
2000: 210021   [10]     	LD	HL,2100H
2003: 56       [17]     	LD	D,(HL)
2004: 23       [23]     	INC	HL
2005: 5E       [30]     	LD	E,(HL)
2006: CD0E20   [47]     	CALL	DIV
2009: 23       [53]     	INC	HL
200A: 77       [60]     	LD	(HL),A
200B: 23       [66]     	INC	HL
200C: 71       [73]     	LD	(HL),C
200D: 76       [77]     	HALT
                        				;8ビット除算と8ビット結果
                        				;D / E = C,A (REG.A に余り)
200E:                   DIV:
200E: 97       [ 4]     	SUB	A
200F: 0608     [11]     	LD	B,8		;ソールカウンター
2011: 4F       [15]     	LD	C,A		;C削除
2012:                   DIV1:
2012: CB12     [ 8]     	RL	D		;CYの最上位ビット
2014: CB17     [16]     	RL	A		;ACCUの最上位ビット
2016: 93       [20]     	SUB	E
2017: 3001     [27|32]  	JR	NC,DIV2		;ジャンプワイン結果 ポジティブ
2019: 83       [31]     	ADD	A,E		;減算を元に戻す
201A:                   DIV2:
201A: 3F       [ 4]     	CCF			;結果を修正する
201B: CB11     [12]     	RL	C		;結果をCに移動する
201D: 10F3     [20|25]  	DJNZ	DIV1
201F: C9       [30]     	RET
                        ;
2020: FFFFFFFF          	ORG	2100H
2024: FF...             
2100: F31F              	DEFW	1FF3H		;入力
2102: 0000              	DEFW	0000H		;結果
                        	END


; +++ segments +++

#CODE          = $2000 =  8192,  size = $0104 =   260

; +++ global symbols +++

DIV     = $200E =  8206          sample6_2_9_devide.asm:24
DIV1    = $2012 =  8210          sample6_2_9_devide.asm:28
DIV2    = $201A =  8218          sample6_2_9_devide.asm:34
EX09    = $2000 =  8192          sample6_2_9_devide.asm:11 (unused)
_end    = $2104 =  8452          sample6_2_9_devide.asm:10 (unused)
_size   = $0104 =   260          sample6_2_9_devide.asm:10 (unused)


total time: 0.0114 sec.
no errors
